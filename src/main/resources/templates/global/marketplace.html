<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="Marketplace"></title>
    <link rel="stylesheet" th:href="@{/css/global.css}">
    <link rel="stylesheet" th:href="@{/css/header.css}">
    <link rel="stylesheet" th:href="@{/css/marketplace.css}">
    <link rel="stylesheet" th:href="@{/css/toast.css}">
    <link rel="stylesheet" th:href="@{/css/listings.css}">
    <script th:src="@{/js/toast.js}" defer></script>
    <script th:src="@{/js/products.js}" defer></script>
    <script th:src="@{/js/marketplace.js}" defer></script>
    <script src="https://unpkg.com/@solana/web3.js@1.30.2/lib/index.iife.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
</head>
<body>
    <div id="background"></div>
    <ul class="notifications"></ul>
    <div th:insert="~{parts/_header.html :: header}"></div>
    <div id="search-config" class="search-config">
        <h3 class="popup-name">Search Config</h3>
        <hr>
        <div id="close-search-config" class="close-sidebar">
            <span class="line-icon line-top"></span>
            <span class="line-icon line-bottom"></span>
        </div>
        <form id="search-config-form" th:action="@{/api/products/search-config}" method="get" class="search-config-form">
            <div id="search-form-checkboxes"></div>
            <input type="submit" value="Save"/>
        </form>
    </div>

    <div id="overlay" style="display:none;"></div>
    <div id="popup" style="display:none;">
        <button id="close-popup" class="close-popup close-button">&times;</button>
        <h3 class="popup-name" id="popup-product-id">New Product</h3>
        <hr>

        <div class="popup-product-info">
            <div id="popup-buy-menu">
                <img src="" id="popup-product-image" alt="product image">
                <div class="popup-product-buy">
                    <div>
                        <div class="popup-product-status-container">
                            <h3>Listed</h3>
                            <img class="info-icon" src="/img/info.png" alt="info" id="product-status-info">
                        </div>
                        <p class="price-container">
                            <span id="popup-product-price"></span>
                            <span class="price-ticker">SOL</span>
                        </p>
                    </div>
                    <button id="popup-buy-button">Buy now<span class="loader-spinner" id="buy-loader" style="display: none"></span></button>
                </div>
            </div>
            <p id="popup-product-description"></p>
        </div>
    </div>

    <div class="search-container">
        <div class="search-box">
            <input type="text" placeholder="What you want to find?">
            <img id="search-button" src="/img/search-interface-symbol.png" alt="search">
            <img id="configure-search-button" src="/img/setting-lines.png" alt="settings">
        </div>
    </div>

    <hr>

    <div class="products-container loader" style="display: flex;">
        <div class="product animated-background"></div>
        <div class="product animated-background"></div>
        <div class="product animated-background"></div>
        <div class="product animated-background"></div>
        <div class="product animated-background"></div>
        <div class="product animated-background"></div>
        <div class="product animated-background"></div>
        <div class="product animated-background"></div>
        <div class="product animated-background"></div>
        <div class="product animated-background"></div>
        <div class="product animated-background"></div>
        <div class="product animated-background"></div>
    </div>

    <div class="products-container main-products-container"> </div>
</body>
</html>